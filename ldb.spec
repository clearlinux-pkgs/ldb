#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : ldb
Version  : 1.1.26
Release  : 1
URL      : https://www.samba.org/ftp/pub/ldb/ldb-1.1.26.tar.gz
Source0  : https://www.samba.org/ftp/pub/ldb/ldb-1.1.26.tar.gz
Summary  : Python bindings for LDB
Group    : Development/Tools
License  : X11
Requires: ldb-bin
Requires: ldb-lib
Patch1: 0001_fix_default_install_path.patch
Patch2: 0002_fix_waf_options.patch

%description
See http://code.google.com/p/waf/ for more information on waf
You can get a svn copy of the upstream source with:

%package bin
Summary: bin components for the ldb package.
Group: Binaries

%description bin
bin components for the ldb package.


%package dev
Summary: dev components for the ldb package.
Group: Development
Requires: ldb-lib
Requires: ldb-bin
Provides: ldb-devel

%description dev
dev components for the ldb package.


%package lib
Summary: lib components for the ldb package.
Group: Libraries

%description lib
lib components for the ldb package.


%prep
%setup -q -n ldb-1.1.26
%patch1 -p1
%patch2 -p1

%build
%configure --disable-static
make V=1  %{?_smp_mflags}

%install
rm -rf %{buildroot}
%make_install

%files
%defattr(-,root,root,-)
/usr/modules/ldb/asq.so
/usr/modules/ldb/paged_results.so
/usr/modules/ldb/paged_searches.so
/usr/modules/ldb/rdn_name.so
/usr/modules/ldb/sample.so
/usr/modules/ldb/server_sort.so
/usr/modules/ldb/skel.so
/usr/modules/ldb/tdb.so

%files bin
%defattr(-,root,root,-)
%exclude /usr/bin/tdbbackup
%exclude /usr/bin/tdbdump
%exclude /usr/bin/tdbrestore
%exclude /usr/bin/tdbtool
/usr/bin/ldbadd
/usr/bin/ldbdel
/usr/bin/ldbedit
/usr/bin/ldbmodify
/usr/bin/ldbrename
/usr/bin/ldbsearch

%files dev
%defattr(-,root,root,-)
/usr/include/*.h
/usr/lib/*.so
/usr/lib64/pkgconfig/*.pc

%files lib
%defattr(-,root,root,-)
/usr/lib/*.so.*
/usr/lib/ldb/libldb-cmdline.so
/usr/lib/ldb/libpopt-ldb.so
/usr/lib/ldb/libtalloc.so.2
/usr/lib/ldb/libtalloc.so.2.1.5
/usr/lib/ldb/libtdb.so.1
/usr/lib/ldb/libtdb.so.1.3.8
/usr/lib/ldb/libtevent.so.0
/usr/lib/ldb/libtevent.so.0.9.27
